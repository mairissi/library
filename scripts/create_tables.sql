CREATE TABLE ROLE (
	ID_ROLE INTEGER,
	ROLE VARCHAR (10),
	PRIMARY KEY(ID_ROLE)
);

CREATE TABLE ACCOUNTS (
	CPF VARCHAR(11),
	NAME VARCHAR (50),
	EMAIL VARCHAR (64),
	PASSWORD VARCHAR (50),
	BIRTH_DATE TIMESTAMP,
	SEX VARCHAR (1),
	TEL VARCHAR (16),
	CEP VARCHAR (10),
	STREET VARCHAR (50),
	ADDRESS_NUMBER VARCHAR (10),
	DISTRICT VARCHAR (50),
	CITY VARCHAR (50),
	STATE VARCHAR (2),
	ROLE INTEGER,
	PRIMARY KEY (CPF),
	FOREIGN KEY (ROLE) REFERENCES ROLE(ID_ROLE)
);

-- Refazer tabela CATEGORY

-- Quebrado: Tabela CATEGORY não existe
CREATE TABLE BOOK (
	ISBN INTEGER,
	TITLE VARCHAR (50),
	AUTHOR VARCHAR (50),
	PUBLISHER VARCHAR (30),
	QUANTITY INTEGER,
	DESCRIPTION VARCHAR (100),
	IMG_URL VARCHAR (100),
	PRIMARY KEY(ISBN)
	--PRIMARY KEY (ISBN),
	--FOREIGN KEY (CATEGORY) REFERENCES CATEGORY(CATEGORY)
);

-- Quebrado: Tabela BOOK não foi criada, pois CATEGORY não existe
CREATE TABLE BORROWING (
	ID_BORROWING INTEGER,
	CPF INTEGER,
	ISBN INTEGER,
	PRIMARY KEY(ID_BORROWING),
	FOREIGN KEY (CPF) REFERENCES ACCOUNT(CPF),
	FOREIGN KEY (ISBN) REFERENCES BOOK(ISBN)
);